webpackJsonp([1],{114:function(e,t,n){function r(e,t){return p('create event "%s" in session %s',t,e),function(n){n(y(new l.b({_id:a.a.v4(),session_id:e,name:t,time:s.a.bind()()})))}}function o(e){return p("end events for session %s",e),function(t){t(y(new l.d(e)))}}function i(e){return p("delete event %s",e),function(t){t(v(e))}}var u=n(72),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(0),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(50),l=n(20);t.a=r,t.c=o,t.b=i;var p=f.a.bind()("actions:events"),d=Symbol("create event");Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return d}});var b=Symbol("delete event");Object.defineProperty(t,"e",{configurable:!1,enumerable:!0,get:function(){return b}});var y=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:d,payload:e}},v=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:b,payload:e}}},20:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=!0,n=!1,r=void 0;try{for(var o,i=O[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;if(u.isType(e))return u}}catch(a){n=!0,r=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}throw new m(e)}function a(e){return u(e).fromIterable(e)}var c=n(0),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(10),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l}),t.f=a;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,null,[{key:"isType",value:function(e){return 2===e.count()&&e.has("_id")&&e.has("name")}},{key:"fromIterable",value:function(e){return new t(e.toObject())}}]),t}(f.Record.bind()({_id:null,name:null}));Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return d}});var b=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,null,[{key:"isType",value:function(e){return 6===e.count()&&e.has("_id")&&e.has("session_id")&&e.has("name")&&e.has("time")&&e.has("isNow")&&e.has("isEnd")}},{key:"fromIterable",value:function(e){return new t(e.map(function(e,t){return"time"===t?s.a.bind()(e):e}).toObject())}}]),t}(f.Record.bind()({_id:null,session_id:null,name:null,time:null,isNow:!1,isEnd:!1}));Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return b}});var y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(b);Object.defineProperty(t,"e",{configurable:!1,enumerable:!0,get:function(){return y}});var v=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,{time:s.a.bind()(),isNow:!0}))}return i(t,e),t}(b);Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return v}});var h=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,{_id:e,session_id:e,name:"end",time:s.a.bind()(),isEnd:!0}))}return i(t,e),t}(b);Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return h}});var m=function(e){function t(e){return r(this,t),o(this,Object.getPrototypeOf(t).call(this,"No matching type for "+JSON.stringify(e.toJSON())))}return i(t,e),t}(Error),O=[d,b]},309:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(48),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(49),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=n(311),d=n(320),b=n(319),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.history=f.hashHistory,n}return i(t,e),y(t,[{key:"render",value:function(){return a.a.createElement(c.Provider,{store:this.props.store},a.a.createElement(f.Router,{history:this.history},a.a.createElement(f.Route,{path:"/",component:p.a},a.a.createElement(f.IndexRoute,{component:d.a}),a.a.createElement(f.Route,{path:"session/:id",component:b.a}))))}}]),t}(u.Component);v.propTypes={store:u.PropTypes.object.isRequired},t.a=v},31:function(e,t,n){var r=n(317),o=n(318),i=n(316);Object.prototype.hasOwnProperty.call(r,"a")&&Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return r.a}}),Object.prototype.hasOwnProperty.call(o,"a")&&Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return o.a}}),Object.prototype.hasOwnProperty.call(i,"a")&&Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return i.a}})},310:function(e,t,n){function r(e){return j(O.a,e)}function o(){return i(localStorage.getItem("tapclock.online"))}function i(e){return g("Parse state %o",e),p.fromJS.bind()(JSON.parse(e),function(e,t){try{return _.f.bind()(t)}catch(n){return p.Iterable.isIndexed(t)?t.toList():t.toMap()}})}var u=n(113),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(111),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(110),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=n(10),d=p&&p.__esModule?function(){return p["default"]}:function(){return p};Object.defineProperty(d,"a",{get:d});var b=n(71),y=b&&b.__esModule?function(){return b["default"]}:function(){return b};Object.defineProperty(y,"a",{get:y});var v=n(112),h=v&&v.__esModule?function(){return v["default"]}:function(){return v};Object.defineProperty(h,"a",{get:h});var m=n(50),O=n(323),_=n(20);t.b=r,t.a=o;var g=m.a.bind()("store"),P=l.a.bind()(s.a.bind()("tapclock.online"),["sessions","events"]),j=b.applyMiddleware(a.a,v.createMiddleware(P))(b.createStore)},311:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(31),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return a.a.createElement(c.a,null,a.a.createElement("h1",null,"Tap Clock"),this.props.children)}}]),t}(u.Component);f.propTypes={route:u.PropTypes.object.isRequired},f.contextTypes={router:a.a.PropTypes.object.isRequired},t.a=f},312:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(10),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(50),l=n(313),p=n(20),d=n(31),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(f.a.bind()("EventClock"),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),b(t,[{key:"hasTerminated",value:function(){return this.props.currentEvent.isEnd}},{key:"eventButton",value:function(e){return a.a.createElement("button",{onClick:this.props.createEvent.bind(this,this.props.session._id,e),disabled:this.props.currentEvent.name===e||this.hasTerminated()},e)}},{key:"endEventsButton",value:function(){return a.a.createElement("button",{onClick:this.props.endEvents.bind(this,this.props.session._id),disabled:this.hasTerminated()},"stop")}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(d.b,null,a.a.createElement(d.c,null,this.eventButton("work")),a.a.createElement(d.c,null,this.eventButton("break")),a.a.createElement(d.c,null,this.endEventsButton())),a.a.createElement(l.a,{events:this.props.events,deleteEvent:this.props.deleteEvent,hasTerminated:this.hasTerminated()}))}}]),t}(u.Component));y.propTypes={session:u.PropTypes.instanceOf(p.a).isRequired,events:u.PropTypes.instanceOf(c.OrderedMap).isRequired,currentEvent:u.PropTypes.instanceOf(p.b).isRequired,createEvent:u.PropTypes.func.isRequired,deleteEvent:u.PropTypes.func.isRequired,endEvents:u.PropTypes.func.isRequired},t.a=y},313:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(10),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(315),l=n(314),p=n(20),d=n(31),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),b(t,[{key:"render",value:function(){var e=this,t=new p.c,n=this.props.events,r=this.props.events.keySeq();return a.a.createElement("div",null,r.map(function(r,o,i){return a.a.createElement(d.b,{key:r},a.a.createElement(d.c,null,a.a.createElement(f.a,{event:n.get(r),deleteEvent:e.props.deleteEvent,hasTerminated:e.props.hasTerminated},a.a.createElement(l.a,{start:n.get(r),end:n.get(i.get(o+1),t)}))))}))}}]),t}(u.Component);y.propTypes={events:u.PropTypes.instanceOf(c.OrderedMap).isRequired,deleteEvent:u.PropTypes.func.isRequired,hasTerminated:u.PropTypes.bool.isRequired},t.a=y},314:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(2),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(20),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={duration:e.end.time.diff(e.start.time)},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.intervals=[]}},{key:"componentDidMount",value:function(){this.props.end.isNow&&this.intervals.push(setInterval(this.updateDuration.bind(this),1e3))}},{key:"componentWillReceiveProps",value:function(e){e.end.isNow||this.intervals.forEach(clearInterval)}},{key:"componentWillUnmount",value:function(){this.intervals.forEach(clearInterval)}},{key:"updateDuration",value:function(){this.setState({duration:a.a.bind()().diff(this.props.start.time)})}},{key:"timeDelta",value:function(e,t){var n=new Date(Math.abs(e-t));return n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds()}},{key:"render",value:function(){return s.a.createElement("span",null,"time: ",a.a.bind()(this.state.duration).utc().format("HH:mm:ss"))}}]),t}(c.Component);p.propTypes={start:c.PropTypes.instanceOf(f.b).isRequired,end:c.PropTypes.instanceOf(f.b).isRequired},t.a=p},315:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(20),s=n(31),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),f(t,[{key:"deleteEvent",value:function(){this.props.deleteEvent(this.props.event._id)}},{key:"render",value:function(){return this.props.event.isEnd?null:a.a.createElement("div",null,a.a.createElement(s.b,null,a.a.createElement(s.c,null,this.props.event.name),a.a.createElement(s.c,null,"start: ",this.props.event.time.calendar()),a.a.createElement(s.c,null,this.props.children),a.a.createElement(s.c,null,a.a.createElement("button",{onClick:this.deleteEvent.bind(this),disabled:this.props.hasTerminated},"delete"))))}}]),t}(u.Component);l.propTypes={event:u.PropTypes.instanceOf(c.b).isRequired,deleteEvent:u.PropTypes.func.isRequired,hasTerminated:u.PropTypes.bool.isRequired},t.a=l},316:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(47),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(367),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return a.a.createElement("div",{styleName:"cell"},this.props.children)}}]),t}(u.Component);t.a=s.a.bind()(d,l.a)},317:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(47),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(368),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return a.a.createElement("div",{styleName:"container"},this.props.children)}}]),t}(u.Component);t.a=s.a.bind()(d,l.a)},318:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(47),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(369),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return a.a.createElement("div",{styleName:"row"},this.props.children)}}]),t}(u.Component);t.a=s.a.bind()(d,l.a)},319:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{sessions:e.get("sessions"),events:e.get("events")}}var a=n(0),c=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(c,"a",{get:c});var s=n(2),f=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(f,"a",{get:f});var l=n(49),p=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(p,"a",{get:p});var d=n(48),b=d&&d.__esModule?function(){return d["default"]}:function(){return d};Object.defineProperty(b,"a",{get:b});var y=n(10),v=y&&y.__esModule?function(){return y["default"]}:function(){return y};Object.defineProperty(v,"a",{get:v});var h=n(312),m=n(20),O=n(31),_=n(114),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),g(t,[{key:"componentWillMount",value:function(){this.setSession(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setSession(e)}},{key:"setSession",value:function(e){var t=e.sessions.get(e.routeParams.id),n=e.events.filter(function(e){return e.session_id===t._id}).sortBy(function(e){return e.time});this.setState({session:t,events:n,currentEvent:n.last()||new m.e})}},{key:"hasTerminated",value:function(){return this.state.currentEvent.isEnd}},{key:"sessionSummary",value:function(){var e=this.state.events.first().time,t=this.state.events.last().time,n=c.a.bind()(t.diff(e));return f.a.createElement(O.b,null,f.a.createElement("span",null,f.a.createElement("b",null,"total time:")," ",n.utc().format("HH:mm:ss")))}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(O.b,null,f.a.createElement(O.c,null,f.a.createElement("h1",null,this.state.session.name),f.a.createElement(h.a,{createEvent:this.props.createEvent,deleteEvent:this.props.deleteEvent,endEvents:this.props.endEvents,session:this.state.session,events:this.state.events,currentEvent:this.state.currentEvent}))),this.hasTerminated()?this.sessionSummary():null,f.a.createElement(O.b,null,f.a.createElement(O.c,null,f.a.createElement(l.IndexLink,{to:"/"},"back"))))}}]),t}(s.Component);P.propTypes={routeParams:s.PropTypes.object.isRequired,sessions:s.PropTypes.instanceOf(y.Map).isRequired,events:s.PropTypes.instanceOf(y.Map).isRequired,createEvent:s.PropTypes.func.isRequired,deleteEvent:s.PropTypes.func.isRequired,endEvents:s.PropTypes.func.isRequired},t.a=P,t.a=d.connect.bind()(u,{createEvent:_.a,deleteEvent:_.b,endEvents:_.c})(P)},320:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{sessions:e.get("sessions"),events:e.get("events")}}var a=n(2),c=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(c,"a",{get:c});var s=n(49),f=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(f,"a",{get:f});var l=n(48),p=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(p,"a",{get:p});var d=n(10),b=d&&d.__esModule?function(){return d["default"]}:function(){return d};Object.defineProperty(b,"a",{get:b});var y=n(31),v=n(74),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),h(t,[{key:"addSession",value:function(){this.props.createSession("Session "+Date.now())}},{key:"deleteSession",value:function(e){this.props.deleteSession(e)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(y.b,null,c.a.createElement(y.c,null,this.props.sessions.valueSeq().map(function(t){return c.a.createElement(y.b,{key:t._id},c.a.createElement(y.c,null,c.a.createElement(s.Link,{to:"/session/"+t._id},t.name)),c.a.createElement(y.c,null,c.a.createElement("button",{onClick:e.deleteSession.bind(e,t._id)},"delete")))}))),c.a.createElement(y.b,null,c.a.createElement(y.c,null,c.a.createElement("button",{onClick:this.addSession.bind(this)},"add session"))))}}]),t}(a.Component);m.propTypes={sessions:a.PropTypes.instanceOf(d.Map).isRequired,events:a.PropTypes.instanceOf(d.Map).isRequired,createSession:a.PropTypes.func.isRequired,deleteSession:a.PropTypes.func.isRequired},t.a=m,t.a=l.connect.bind()(u,{createSession:v.a,deleteSession:v.b})(m)},321:function(e,t,n){var r=n(2),o=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(o,"a",{get:o});var i=n(73),u=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(u,"a",{get:u});var a=n(309),c=n(310),s=c.a.bind()()||void 0,f=c.b.bind()(s),l=document.getElementById("main");u.a.render(o.a.createElement(a.a,{store:f}),l)},322:function(e,t,n){function r(){var e=arguments.length<=0||void 0===arguments[0]?o.Map.bind()():arguments[0],t=arguments[1];switch(t.type){case u.d:return e.set(t.payload.get("_id"),t.payload);case u.e:return e["delete"](t.payload);case a.d:return e.filter(function(e){return e.session_id!==t.payload});default:return e}}var o=n(10),i=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(i,"a",{get:i});var u=n(114),a=n(74);t.a=r},323:function(e,t,n){var r=n(109),o=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(o,"a",{get:o});var i=n(324),u=n(322),a=r.combineReducers.bind()({sessions:i.a,events:u.a});t.a=a},324:function(e,t,n){function r(){var e=arguments.length<=0||void 0===arguments[0]?o.Map.bind()():arguments[0],t=arguments[1];switch(t.type){case u.c:return e.set(t.payload.get("_id"),t.payload);case u.d:return e["delete"](t.payload);default:return e}}var o=n(10),i=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(i,"a",{get:i});var u=n(74);t.a=r},367:function(e,t){e.exports={cell:"cell__cell___yD6IW"}},368:function(e,t){e.exports={container:"container__container___36SI2"}},369:function(e,t){e.exports={row:"row__row___3ayQd"}},50:function(e,t,n){function r(e){return window&&(window.DEBUG=i.a),i.a.bind()("tapclock:"+e)}var o=n(108),i=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(i,"a",{get:i}),t.a=r},74:function(e,t,n){function r(e){return s('create session "%s"',e),function(t){t(p(new c.a({_id:u.a.v4(),name:e})))}}function o(e){return s("delete session %s",e),function(t){t(d(e))}}var i=n(72),u=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(u,"a",{get:u});var a=n(50),c=n(20);t.a=r,t.b=o;var s=a.a.bind()("actions:sessions"),f=Symbol("create session");Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return f}});var l=Symbol("delete session");Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return l}});var p=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:f,payload:e}},d=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:l,payload:e}}}},[321]);
//# sourceMappingURL=index.min.js.map