webpackJsonp([1],{114:function(e,t,n){function r(e,t){return c('create event "%s" in session %s',t,e),function(n){var r="work"===t?new a.d({session_id:e,name:t}):new a.e({session_id:e,name:t});n(l(r))}}function o(e){return c("end events for session %s",e),function(t){t(l(new a.f({session_id:e})))}}function i(e){return c("delete event %s",e),function(t){t(p(e))}}var u=n(20),a=n(21);t.a=r,t.c=o,t.b=i;var c=u.a.bind()("actions:events"),s=Symbol("create event");Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return s}});var f=Symbol("delete event");Object.defineProperty(t,"e",{configurable:!1,enumerable:!0,get:function(){return f}});var l=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:s,payload:e}},p=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:f,payload:e}}},20:function(e,t,n){function r(e){return window&&(window.DEBUG=i.a),i.a.bind()("tapclock:"+e)}var o=n(108),i=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(i,"a",{get:i}),t.a=r},21:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=!0,n=!1,r=void 0;try{for(var o,i=q[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value;if(u.isType(e))return u}}catch(a){n=!0,r=a}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}throw new C(e)}function c(e){var t=a(e);return t.fromIterable(e)}var s=n(72),f=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(f,"a",{get:f});var l=n(0),p=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(p,"a",{get:p});var d=n(9),b=d&&d.__esModule?function(){return d["default"]}:function(){return d};Object.defineProperty(b,"a",{get:b});var y=n(20);t.h=c;var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(y.a.bind()("model"),function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),h(t,null,[{key:"isType",value:function(e){return 2===e.count()&&e.has("_id")&&e.has("name")}},{key:"fromIterable",value:function(e){return new t(e.toJS())}}]),t}(d.Record.bind()({_id:null,name:null})));Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return m}});var O="WORK_EVENT",_="BREAK_EVENT",g="NULL_EVENT",E="NOW_EVENT",P="END_EVENT",j=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,v({_id:f.a.v4(),time:p.a.bind()()},e)))}return u(t,e),h(t,null,[{key:"isType",value:function(e){return 7===e.count()&&e.has("_id")&&e.has("session_id")&&e.has("type")&&e.has("name")&&e.has("time")&&e.has("isNow")&&e.has("isEnd")}},{key:"getClass",value:function(e){var n;return d.fromJS.bind()((n={},r(n,O,w),r(n,_,T),r(n,g,k),r(n,E,M),r(n,P,R),n)).get(e,t)}},{key:"fromIterable",value:function(e){var n=t.getClass(e.get("type"));return new n(e.map(function(e,t){return"time"===t?p.a.bind()(e):e}).toJS())}}]),t}(d.Record.bind()({_id:null,session_id:null,type:null,name:null,time:null,isNow:!1,isEnd:!1}));Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return j}});var w=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,v({},e,{type:O})))}return u(t,e),t}(j);Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return w}});var T=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,v({},e,{type:_})))}return u(t,e),t}(j);Object.defineProperty(t,"e",{configurable:!1,enumerable:!0,get:function(){return T}});var k=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,{type:g}))}return u(t,e),t}(j);Object.defineProperty(t,"g",{configurable:!1,enumerable:!0,get:function(){return k}});var M=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,{type:E,time:p.a.bind()(),isNow:!0}))}return u(t,e),t}(j);Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return M}});var R=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,v({time:p.a.bind()()},e,{_id:e.session_id,type:P,name:"end",isEnd:!0})));if(!e.session_id)throw new S("EndEvent","session_id");return n}return u(t,e),t}(j);Object.defineProperty(t,"f",{configurable:!1,enumerable:!0,get:function(){return R}});var S=function(e){function t(e,n){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,"Missing attributes for record "+e+": "+n))}return u(t,e),t}(Error),C=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,"No matching type for "+JSON.stringify(e.toJSON())))}return u(t,e),t}(Error),q=[m,j]},309:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(49),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(50),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=n(311),d=n(320),b=n(319),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.history=f.hashHistory,n}return i(t,e),y(t,[{key:"render",value:function(){return a.a.createElement(c.Provider,{store:this.props.store},a.a.createElement(f.Router,{history:this.history},a.a.createElement(f.Route,{path:"/",component:p.a},a.a.createElement(f.IndexRoute,{component:d.a}),a.a.createElement(f.Route,{path:"session/:id",component:b.a}))))}}]),t}(u.Component);v.propTypes={store:u.PropTypes.object.isRequired},t.a=v},310:function(e,t,n){function r(e){return P(O.a,e)}function o(){return i(localStorage.getItem("tapclock.online"))}function i(e){return g("Parse state %o",e),p.fromJS.bind()(JSON.parse(e),function(e,t){try{return _.h.bind()(t)}catch(n){return p.Iterable.isIndexed(t)?t.toList():t.toMap()}})}var u=n(113),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(111),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(110),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=n(9),d=p&&p.__esModule?function(){return p["default"]}:function(){return p};Object.defineProperty(d,"a",{get:d});var b=n(71),y=b&&b.__esModule?function(){return b["default"]}:function(){return b};Object.defineProperty(y,"a",{get:y});var v=n(112),h=v&&v.__esModule?function(){return v["default"]}:function(){return v};Object.defineProperty(h,"a",{get:h});var m=n(20),O=n(323),_=n(21);t.b=r,t.a=o;var g=m.a.bind()("store"),E=l.a.bind()(s.a.bind()("tapclock.online"),["sessions","events"]),P=b.applyMiddleware(a.a,v.createMiddleware(E))(b.createStore)},311:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(32),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return a.a.createElement(c.a,null,a.a.createElement("h1",null,"Tap Clock"),this.props.children)}}]),t}(u.Component);f.propTypes={route:u.PropTypes.object.isRequired},f.contextTypes={router:a.a.PropTypes.object.isRequired},t.a=f},312:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(9),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(20),l=n(313),p=n(21),d=n(32),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=(f.a.bind()("EventClock"),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),b(t,[{key:"hasTerminated",value:function(){return this.props.currentEvent.isEnd}},{key:"eventButton",value:function(e){return a.a.createElement("button",{onClick:this.props.createEvent.bind(this,this.props.session._id,e),disabled:this.props.currentEvent.name===e||this.hasTerminated()},e)}},{key:"endEventsButton",value:function(){return a.a.createElement("button",{onClick:this.props.endEvents.bind(this,this.props.session._id),disabled:this.hasTerminated()},"stop")}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(d.b,null,a.a.createElement(d.c,null,this.eventButton("work")),a.a.createElement(d.c,null,this.eventButton("break")),a.a.createElement(d.c,null,this.endEventsButton())),a.a.createElement(l.a,{events:this.props.events,deleteEvent:this.props.deleteEvent,hasTerminated:this.hasTerminated()}))}}]),t}(u.Component));y.propTypes={session:u.PropTypes.instanceOf(p.a).isRequired,events:u.PropTypes.instanceOf(c.OrderedMap).isRequired,currentEvent:u.PropTypes.instanceOf(p.b).isRequired,createEvent:u.PropTypes.func.isRequired,deleteEvent:u.PropTypes.func.isRequired,endEvents:u.PropTypes.func.isRequired},t.a=y},313:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(9),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(315),l=n(314),p=n(21),d=n(32),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),b(t,[{key:"render",value:function(){var e=this,t=this.props.events,n=this.props.events.keySeq(),r=this.props.hasTerminated?t.last():new p.c;return a.a.createElement("div",null,n.map(function(n,o,i){return a.a.createElement(d.b,{key:n},a.a.createElement(d.c,null,a.a.createElement(f.a,{event:t.get(n),deleteEvent:e.props.deleteEvent,hasTerminated:e.props.hasTerminated},a.a.createElement(l.a,{start:t.get(n),end:t.get(i.get(o+1),r)}))))}))}}]),t}(u.Component);y.propTypes={events:u.PropTypes.instanceOf(c.OrderedMap).isRequired,deleteEvent:u.PropTypes.func.isRequired,hasTerminated:u.PropTypes.bool.isRequired},t.a=y},314:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(0),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(2),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(21),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e){r(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={duration:e.end.time.diff(e.start.time)},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.intervals=[]}},{key:"componentDidMount",value:function(){this.props.end.isNow&&this.intervals.push(setInterval(this.updateDuration.bind(this),1e3))}},{key:"componentWillReceiveProps",value:function(e){e.end.isNow||this.intervals.forEach(clearInterval)}},{key:"componentWillUnmount",value:function(){this.intervals.forEach(clearInterval)}},{key:"updateDuration",value:function(){this.setState({duration:a.a.bind()().diff(this.props.start.time)})}},{key:"timeDelta",value:function(e,t){var n=new Date(Math.abs(e-t));return n.getUTCHours()+":"+n.getUTCMinutes()+":"+n.getUTCSeconds()}},{key:"render",value:function(){return s.a.createElement("span",null,"time: ",a.a.bind()(this.state.duration).utc().format("HH:mm:ss"))}}]),t}(c.Component);p.propTypes={start:c.PropTypes.instanceOf(f.b).isRequired,end:c.PropTypes.instanceOf(f.b).isRequired},t.a=p},315:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(21),s=n(32),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),f(t,[{key:"deleteEvent",value:function(){this.props.deleteEvent(this.props.event._id)}},{key:"render",value:function(){return this.props.event.isEnd?null:a.a.createElement("div",null,a.a.createElement(s.b,null,a.a.createElement(s.c,null,this.props.event.name),a.a.createElement(s.c,null,"start: ",this.props.event.time.calendar()),a.a.createElement(s.c,null,this.props.children),a.a.createElement(s.c,null,a.a.createElement("button",{onClick:this.deleteEvent.bind(this),disabled:this.props.hasTerminated},"delete"))))}}]),t}(u.Component);l.propTypes={event:u.PropTypes.instanceOf(c.b).isRequired,deleteEvent:u.PropTypes.func.isRequired,hasTerminated:u.PropTypes.bool.isRequired},t.a=l},316:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(48),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(368),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return a.a.createElement("div",{styleName:"cell"},this.props.children)}}]),t}(u.Component);t.a=s.a.bind()(d,l.a)},317:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(48),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(369),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return a.a.createElement("div",{styleName:"container"},this.props.children)}}]),t}(u.Component);t.a=s.a.bind()(d,l.a)},318:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(2),a=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(a,"a",{get:a});var c=n(48),s=c&&c.__esModule?function(){return c["default"]}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(370),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return a.a.createElement("div",{styleName:"row"},this.props.children)}}]),t}(u.Component);t.a=s.a.bind()(d,l.a)},319:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{sessions:e.get("sessions"),events:e.get("events")}}var a=n(2),c=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(c,"a",{get:c});var s=n(50),f=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(f,"a",{get:f});var l=n(49),p=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(p,"a",{get:p});var d=n(9),b=d&&d.__esModule?function(){return d["default"]}:function(){return d};Object.defineProperty(b,"a",{get:b});var y=n(20),v=n(325),h=n(312),m=n(21),O=n(32),_=n(114),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(y.a.bind()("SessionDetail"),function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),g(t,[{key:"componentWillMount",value:function(){this.setSession(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setSession(e)}},{key:"setSession",value:function(e){var t=e.sessions.get(e.routeParams.id),n=e.events.filter(function(e){return e.session_id===t._id}).sortBy(function(e){return e.time});this.setState({session:t,events:n,currentEvent:n.last()||new m.g})}},{key:"hasTerminated",value:function(){return this.state.currentEvent.isEnd}},{key:"sessionReport",value:function(){var e=new v.a(this.state.session,this.state.events);return c.a.createElement(O.b,null,c.a.createElement(O.c,null,c.a.createElement("b",null,"total time:")," ",e.totalTime),c.a.createElement(O.c,null,c.a.createElement("b",null,"work time:")," ",e.getCumulatedTime("WORK_EVENT","FOO")),c.a.createElement(O.c,null,c.a.createElement("b",null,"break time:")," ",e.getCumulatedTime("BREAK_EVENT")))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(O.b,null,c.a.createElement(O.c,null,c.a.createElement("h1",null,this.state.session.name),c.a.createElement(h.a,{createEvent:this.props.createEvent,deleteEvent:this.props.deleteEvent,endEvents:this.props.endEvents,session:this.state.session,events:this.state.events,currentEvent:this.state.currentEvent}))),this.hasTerminated()?this.sessionReport():null,c.a.createElement(O.b,null,c.a.createElement(O.c,null,c.a.createElement(s.IndexLink,{to:"/"},"back"))))}}]),t}(a.Component));E.propTypes={routeParams:a.PropTypes.object.isRequired,sessions:a.PropTypes.instanceOf(d.Map).isRequired,events:a.PropTypes.instanceOf(d.Map).isRequired,createEvent:a.PropTypes.func.isRequired,deleteEvent:a.PropTypes.func.isRequired,endEvents:a.PropTypes.func.isRequired},t.a=E,t.a=l.connect.bind()(u,{createEvent:_.a,deleteEvent:_.b,endEvents:_.c})(E)},32:function(e,t,n){var r=n(317),o=n(318),i=n(316);Object.prototype.hasOwnProperty.call(r,"a")&&Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return r.a}}),Object.prototype.hasOwnProperty.call(o,"a")&&Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return o.a}}),Object.prototype.hasOwnProperty.call(i,"a")&&Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return i.a}})},320:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{sessions:e.get("sessions"),events:e.get("events")}}var a=n(2),c=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(c,"a",{get:c});var s=n(50),f=s&&s.__esModule?function(){return s["default"]}:function(){return s};Object.defineProperty(f,"a",{get:f});var l=n(49),p=l&&l.__esModule?function(){return l["default"]}:function(){return l};Object.defineProperty(p,"a",{get:p});var d=n(9),b=d&&d.__esModule?function(){return d["default"]}:function(){return d};Object.defineProperty(b,"a",{get:b});var y=n(32),v=n(74),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),h(t,[{key:"addSession",value:function(){this.props.createSession("Session "+Date.now())}},{key:"deleteSession",value:function(e){this.props.deleteSession(e)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(y.b,null,c.a.createElement(y.c,null,this.props.sessions.valueSeq().map(function(t){return c.a.createElement(y.b,{key:t._id},c.a.createElement(y.c,null,c.a.createElement(s.Link,{to:"/session/"+t._id},t.name)),c.a.createElement(y.c,null,c.a.createElement("button",{onClick:e.deleteSession.bind(e,t._id)},"delete")))}))),c.a.createElement(y.b,null,c.a.createElement(y.c,null,c.a.createElement("button",{onClick:this.addSession.bind(this)},"add session"))))}}]),t}(a.Component);m.propTypes={sessions:a.PropTypes.instanceOf(d.Map).isRequired,events:a.PropTypes.instanceOf(d.Map).isRequired,createSession:a.PropTypes.func.isRequired,deleteSession:a.PropTypes.func.isRequired},t.a=m,t.a=l.connect.bind()(u,{createSession:v.a,deleteSession:v.b})(m)},321:function(e,t,n){var r=n(2),o=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(o,"a",{get:o});var i=n(73),u=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(u,"a",{get:u});var a=n(20),c=n(309),s=n(310),f=(a.a.bind()("index"),s.a.bind()()||void 0),l=s.b.bind()(f),p=document.getElementById("main");u.a.render(o.a.createElement(c.a,{store:l}),p)},322:function(e,t,n){function r(){var e=arguments.length<=0||void 0===arguments[0]?o.Map.bind()():arguments[0],t=arguments[1];switch(t.type){case u.d:return e.set(t.payload.get("_id"),t.payload);case u.e:return e["delete"](t.payload);case a.d:return e.filter(function(e){return e.session_id!==t.payload});default:return e}}var o=n(9),i=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(i,"a",{get:i});var u=n(114),a=n(74);t.a=r},323:function(e,t,n){var r=n(109),o=r&&r.__esModule?function(){return r["default"]}:function(){return r};Object.defineProperty(o,"a",{get:o});var i=n(324),u=n(322),a=r.combineReducers.bind()({sessions:i.a,events:u.a});t.a=a},324:function(e,t,n){function r(){var e=arguments.length<=0||void 0===arguments[0]?o.Map.bind()():arguments[0],t=arguments[1];switch(t.type){case u.c:return e.set(t.payload.get("_id"),t.payload);case u.d:return e["delete"](t.payload);default:return e}}var o=n(9),i=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(i,"a",{get:i});var u=n(74);t.a=r},325:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return 1e3*Math.round(e/1e3)}var i=n(0),u=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(u,"a",{get:u});var a=n(9),c=a&&a.__esModule?function(){return a["default"]}:function(){return a};Object.defineProperty(c,"a",{get:c});var s=n(20),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=(s.a.bind()("report"),function(){function e(t,n){r(this,e),this.session=t,this.events=n.sortBy(function(e){return e.time}).toIndexedSeq()}return f(e,[{key:"getCumulatedTime",value:function(){var e=this,t=a.Set.of.apply(a.Set,arguments),n=function(n){var r=e.events.findKey(function(e){return e._id===n._id});return e.events.slice(r).find(function(e){return!t.includes(e.type)},e.events.last()).get("time")},r=this.events.filter(function(e){return t.includes(e.type)}).reduce(function(e,t){var r=n(t),o=r.diff(t.time);return e+o},0);return u.a.bind()(o(r)).utc().format("HH:mm:ss")}},{key:"eventTypes",get:function(){return this.events.map(function(e){return e.type}).toSet()}},{key:"totalTime",get:function(){var e=this.events.first().get("time"),t=this.events.last().get("time"),n=t.diff(e);return u.a.bind()(o(n)).utc().format("HH:mm:ss")}}]),e}());t.a=l},368:function(e,t){e.exports={
cell:"cell__cell___yD6IW"}},369:function(e,t){e.exports={container:"container__container___36SI2"}},370:function(e,t){e.exports={row:"row__row___3ayQd"}},74:function(e,t,n){function r(e){return s('create session "%s"',e),function(t){t(p(new c.a({_id:u.a.v4(),name:e})))}}function o(e){return s("delete session %s",e),function(t){t(d(e))}}var i=n(72),u=i&&i.__esModule?function(){return i["default"]}:function(){return i};Object.defineProperty(u,"a",{get:u});var a=n(20),c=n(21);t.a=r,t.b=o;var s=a.a.bind()("actions:sessions"),f=Symbol("create session");Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return f}});var l=Symbol("delete session");Object.defineProperty(t,"d",{configurable:!1,enumerable:!0,get:function(){return l}});var p=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:f,payload:e}},d=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return{type:l,payload:e}}}},[321]);
//# sourceMappingURL=index.min.js.map